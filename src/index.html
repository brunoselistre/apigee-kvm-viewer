<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Apigee KVM Viewer</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
  </head>

  <body onload="init()" class="body">
    <!-------------------------- Placeholders --------------------------->
    <h2>Apigee KVM GUI</h2>
    <div>
      <select id="env-select" onchange="selectEnv(this.value)">
      </select>
      <div id="list-view"></div>
      <div id="content-view">
        <div id="table-view"></div>
      </div>

    </div>

    <!--------------------------- Templates ---------------------------->
    <script id="list-template" type="text/x-handlebars-template">
      {{#each items}}
        <li data-item-id="{{id}}" name="{{name}}">{{name}}</li>
      {{/each}}
      <button id="new-kvm-btn" onclick="addKvm();">New KVM +</button>
      <button id="delete-kvm-btn" onclick="deleteKvm();">Delete KVM</button>
    </script>

    <script id="table-template" type="text/x-handlebars-template">
      <div style="padding: 3% 10%">
        <button id="return-btn" onclick="returnHomePage();"><i class="fas fa-arrow-left"></i> Return</button>

        <h3>{{kvm}}</h3>

        <div class="popup" id="popup">
          <textarea
            name="entry"
            id="entries"
            cols="40"
            rows="5"
            style="resize: none"
          >[
  { "name": "", "value": ""}
]</textarea>
          <span>

            <!--
            <button
              name="cancel-entry-btn popup-flex-item"
              id="cancel-entry-btn"
              onclick="cancelEntryKvm();"
            >Cancel</button>
            -->
          </span>
        </div>
        <button
        name="add-entry-btn popup-flex-item"
        id="add-entry-btn"
      >Add</button>
        <button id="delete-entry-kvm-btn" onclick="deleteEntry();">Delete Entry</button>
                <!--
        <button id="new-entry-kvm-btn" onclick="addEntryKvmPopup();">Add Entry +</button>
        -->
        
        <table id="kvm-entries-table">
          <thead>
            <tr>
              <th>Key</th>
              <th>Value</th>
            </tr>
          </thead>
          <tbody>
            {{#each items}}
              <tr>
                <td>{{name}}</td>
                <td>{{value}}</td>
              </tr>
            {{/each}}
          </tbody>
        </table>

      </div>
    </script>
    <!--------------------------- Imports ---------------------------->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.7.7/handlebars.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="/src/index.js"></script>

  </body>
</html>
